**План автоматизации тестирования сервиса покупки туров**

#### **1. Перечень автоматизируемых сценариев**
   -	Успешная оплата тура валидной дебетовой картой - при вводе корректных данных действующей карты транзакция проходит успешно, сервис отображает сообщение об успешной покупке, а в базах данных фиксируется соответствующая запись.
   **Негативные сценарии**	
   - 1. Некорректный номер карты
       - Меньше/больше 16 цифр
       - Буквы вместо цифр
       - Спецсимволы
     ОР: Сообщение “Неверный формат номера карты”.
     
   - 2. Некорректный срок действия
        - Истекший срок
        - Срок более 5 лет от текущей даты
        - Месяц > 12 (например, 13/25)
     ОР: Сообщение “Неверный формат номера карты”.

   - 3. Некорректный CVV/CVC код
        - Меньше 3 цифр / Больше 3 цифр
        - Буквы или спецсимволы
     ОР: Сообщение “Неверный код безопасности”.
   
   - 4. Блокировка карты
        - Карта со статусом “Заблокирована”
     ОР: Сообщение “Карта заблокирована”.

   - 5. Неправильный формат данных
        - Пустые поля
     ОР: Сообщение “Обязательное поле”.

#### **2. Перечень используемых инструментов**
   -	Java + JUnit 5 – язык и фреймворк для написания автоматизированных тестов
   -	Selenide – библиотека для автоматизации UI-тестирования веб-интерфейса
   -	REST Assured – инструмент для тестирования REST API; может использоваться для отправки запросов к банковскому сервису
   -	Allure – фреймворк для сбора и представления результатов тестирования
   -	Gradle – система сборки и управления зависимостями, для компиляции кода тестов, запуска тест-cьютов и генерации отчетов.
   -	Библиотеки для работы с БД (JDBC) – для подключения к MySQL и PostgreSQL и проверки внесения записей в базы после проведения оплаты
   -	Git и CI (опционально) – система контроля версий для хранения тестового кода; сервер непрерывной интеграции для автоматического запуска тестов при обновлении кода или по расписанию на тестовом стенде.

#### **3. Возможные риски**
   -	Нестабильность тестового окружения – тестовый сервер покупки туров или банковский сервис-имитатор могут быть недоступны или работать с перебоями, что приведёт к падению тестов независимо от их корректности.
   -	Изменения в приложении или API – при изменении UI (перестановка элементов формы оплаты, изменение идентификаторов полей) либо изменений контрактов API банковского сервиса автотесты могут начать падать и потребуют доработки.
   -	Несинхронность систем – результаты транзакции могут не сразу появляться в базах данных (задержка репликации между MySQL и PostgreSQL, отложенные транзакции), из-за чего автотест, сразу проверяющий БД, может получать ложный негативный результат.
   -	Проблемы с тестовыми данными – заранее согласованные тестовые номера карт могут измениться или исчерпаться (если, например, банк-имитатор ограничивает число использовании одной карты), либо данные в БД не сбрасываются между тестовыми прогонами, вызывая конфликты (дубликаты записей, уникальные ограничения).
   -	Флейки-тесты (Flaky tests) – автоматические тесты, зависящие от времени ответа внешнего сервиса или анимаций на странице, могут иногда падать из-за таймаутов или нестабильных задержек. Это усложняет анализ результатов прогона.
   -	Интеграционные риски – разные компоненты (UI, сервис, БД, банк-имитатор) могут некорректно взаимодействовать в тестовом режиме. Например, несовместимость версий MySQL/PostgreSQL драйверов или различия в схемах БД могут привести к ошибкам при выполнении тестов.
   -	Ограничения доступа – возможны ситуации, когда у тестовой машины недостаточно прав доступа к нужным ресурсам (например, firewall может блокировать обращение к тестовому API банка или к БД), что потребует дополнительной настройки среды.
   -	Человеческий фактор и сроки – ограниченное время на разработку автотестов или недостаточная квалификация нового инженера могут привести к неполному покрытию сценариев или допущению ошибок в тестах. Также, если ответственные специалисты недоступны (отпуск, болезнь), это замедлит процесс автоматизации.
   -	Безопасность и данные – в процессе тестирования может использоваться конфиденциальная информация (например, данные карт), что требует соблюдения политики безопасности. Автотесты должны не хранить реальные данные или соблюдать правила (это риск, если политика безопасности нарушится).
   -	Поддержка и сопровождение – после внедрения автотестов может понадобиться их регулярная поддержка при изменениях приложения. Риск в том, что без выделения времени на поддержку, автотесты устареют и перестанут приносить пользу.

#### **4. Интервальная оценка с учетом рисков (в часах)**
   -	Подготовка и анализ сценариев: ~4–6 часов (изучение требований, определение деталей успешных/неуспешных платежей, подготовка тестовых данных, настройка доступа к БД и сервисам).
   -	Разработка тестового фреймворка и окружения: ~3–5 часов (настройка Gradle-проекта, подключение необходимых библиотек, конфигурация Allure-отчётности, подготовка Page Object для страницы оплаты, утилит для работы с БД).
   -	Реализация автотестов: ~6–8 часов (написание тестов для каждого сценария: заполнение формы, отправка запроса, ожидание ответа/страницы результата, проверка уведомлений UI, проверка записей в MySQL/PostgreSQL; отладка и локальное прогоны).
   -	Интеграция и отладка: ~2–4 часа (запуск тестов в целевом окружении или CI, устранение флейк-ошибок, настройка таймаутов, синхронизаций с внешними сервисами, корректировка тестов под реальные задержки).
   -	Запас на риски и доработки: ~2–4 часа (учёт возможных непредвиденных проблем: временная недоступность сервиса, изменения в приложении в процессе тестирования, дополнительная настройка окружения).
   -	Итого оценочно: ~16–24 часов на полный цикл разработки и внедрения автотестов по указанным сценариям с учётом потенциальных рисков и задержек. Этот диапазон учитывает как оптимистичный сценарий (все работает стабильно), так и возможные затруднения (потребуются доработки или повторные прогоны тестов).